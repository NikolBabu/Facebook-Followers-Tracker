<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook Followers Tracker</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/recharts@2.5.0/dist/Recharts.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        const { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } = Recharts;

        const REGIONS = [
          'Brno',
          'Jihlava',
          'Olomouc',
          'Zl√≠n',
          'Ostrava',
          'Pardubice',
          'Hradec Kr√°lov√©',
          'Praha DNES',
          'Liberec',
          '√öst√≠ nad Labem',
          'ƒåesk√© Budƒõjovice',
          'Plze≈à'
        ];

        const COLORS = [
          '#3b82f6', '#ef4444', '#10b981', '#f59e0b', '#8b5cf6',
          '#ec4899', '#14b8a6', '#f97316', '#6366f1', '#84cc16',
          '#06b6d4', '#f43f5e'
        ];

        // Icons as SVG components
        const PlusIcon = () => (
          <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
          </svg>
        );

        const TrashIcon = () => (
          <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
          </svg>
        );

        function FacebookFollowersTracker() {
          const [data, setData] = useState([
            {
              date: '2025-10-08',
              'Brno': 5392,
              'Jihlava': 6076,
              'Olomouc': 605,
              'Zl√≠n': 991,
              'Ostrava': 1724,
              'Pardubice': 1954,
              'Hradec Kr√°lov√©': 1362,
              'Praha DNES': 1153,
              'Liberec': 8901,
              '√öst√≠ nad Labem': 1125,
              'ƒåesk√© Budƒõjovice': 13612,
              'Plze≈à': 1922
            },
            {
              date: '2025-10-22',
              'Brno': 5722,
              'Jihlava': 6474,
              'Olomouc': 654,
              'Zl√≠n': 994,
              'Ostrava': 1852,
              'Pardubice': 1959,
              'Hradec Kr√°lov√©': 1363,
              'Praha DNES': 1174,
              'Liberec': 9073,
              '√öst√≠ nad Labem': 1128,
              'ƒåesk√© Budƒõjovice': 14510,
              'Plze≈à': 2024
            },
            {
              date: '2025-11-06',
              'Brno': 6096,
              'Jihlava': 6726,
              'Olomouc': 660,
              'Zl√≠n': 996,
              'Ostrava': 1924,
              'Pardubice': 2036,
              'Hradec Kr√°lov√©': 1363,
              'Praha DNES': 1233,
              'Liberec': 9647,
              '√öst√≠ nad Labem': 1126,
              'ƒåesk√© Budƒõjovice': 14647,
              'Plze≈à': 2167
            }
          ]);

          const [newEntry, setNewEntry] = useState({
            date: '',
            ...Object.fromEntries(REGIONS.map(region => [region, '']))
          });

          const handleInputChange = (field, value) => {
            setNewEntry(prev => ({
              ...prev,
              [field]: value
            }));
          };

          const handleAddEntry = () => {
            if (!newEntry.date) {
              alert('Pros√≠m vypl≈àte datum');
              return;
            }

            const newData = {
              date: newEntry.date,
              ...Object.fromEntries(
                REGIONS.map(region => [
                  region,
                  newEntry[region] ? parseInt(newEntry[region]) : 0
                ])
              )
            };

            setData(prev => [...prev, newData].sort((a, b) => new Date(a.date) - new Date(b.date)));
            
            // Reset form
            setNewEntry({
              date: '',
              ...Object.fromEntries(REGIONS.map(region => [region, '']))
            });
          };

          const handleDeleteEntry = (index) => {
            setData(prev => prev.filter((_, i) => i !== index));
          };

          return (
            <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8">
              <div className="max-w-7xl mx-auto">
                <div className="bg-white rounded-2xl shadow-2xl p-8 mb-8">
                  <h1 className="text-4xl font-bold text-gray-800 mb-2 flex items-center gap-3">
                    üìä Facebook Followers Tracker
                  </h1>
                  <p className="text-gray-600 mb-6">Sledov√°n√≠ r≈Østu sleduj√≠c√≠ch na Facebooku po kraj√≠ch ƒåR</p>

                  {/* Growth Ranking */}
                  {data.length >= 2 && (
                    <div className="bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 mb-8">
                      <h2 className="text-2xl font-semibold text-gray-700 mb-4 flex items-center gap-2">
                        üèÜ ≈Ωeb≈ô√≠ƒçek nejrychlej≈°√≠ho n√°r≈Østu
                      </h2>
                      <p className="text-sm text-gray-600 mb-4">
                        Obdob√≠: {data[data.length - 2].date} ‚Üí {data[data.length - 1].date}
                      </p>
                      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        {(() => {
                          const lastEntry = data[data.length - 1];
                          const previousEntry = data[data.length - 2];
                          
                          const growthData = REGIONS.map((region, index) => {
                            const current = lastEntry[region] || 0;
                            const previous = previousEntry[region] || 0;
                            const absolute = current - previous;
                            const percentage = previous > 0 ? ((absolute / previous) * 100) : 0;
                            
                            return {
                              region,
                              absolute,
                              percentage,
                              color: COLORS[index],
                              current
                            };
                          }).sort((a, b) => b.absolute - a.absolute);
                          
                          return growthData.map((item, index) => (
                            <div 
                              key={item.region}
                              className="bg-white rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow"
                            >
                              <div className="flex items-center justify-between mb-2">
                                <div className="flex items-center gap-2">
                                  <span className="text-2xl font-bold text-gray-400">
                                    #{index + 1}
                                  </span>
                                  <span 
                                    className="inline-block w-4 h-4 rounded-full" 
                                    style={{ backgroundColor: item.color }}
                                  ></span>
                                </div>
                                {index === 0 && <span className="text-2xl">ü•á</span>}
                                {index === 1 && <span className="text-2xl">ü•à</span>}
                                {index === 2 && <span className="text-2xl">ü•â</span>}
                              </div>
                              <h3 className="font-semibold text-gray-800 mb-2">{item.region}</h3>
                              <div className="space-y-1">
                                <p className="text-sm text-gray-600">
                                  N√°r≈Øst: <span className={`font-bold ${item.absolute >= 0 ? 'text-green-600' : 'text-red-600'}`}>
                                    {item.absolute >= 0 ? '+' : ''}{item.absolute.toLocaleString('cs-CZ')}
                                  </span>
                                </p>
                                <p className="text-sm text-gray-600">
                                  Procenta: <span className={`font-bold ${item.percentage >= 0 ? 'text-green-600' : 'text-red-600'}`}>
                                    {item.percentage >= 0 ? '+' : ''}{item.percentage.toFixed(2)}%
                                  </span>
                                </p>
                                <p className="text-xs text-gray-500">
                                  Aktu√°lnƒõ: {item.current.toLocaleString('cs-CZ')} sleduj√≠c√≠ch
                                </p>
                              </div>
                            </div>
                          ));
                        })()}
                      </div>
                    </div>
                  )}

                  {/* Graph */}
                  <div className="bg-gray-50 rounded-xl p-6 mb-8">
                    <h2 className="text-2xl font-semibold text-gray-700 mb-4">Graf v√Ωvoje sleduj√≠c√≠ch</h2>
                    <ResponsiveContainer width="100%" height={400}>
                      <LineChart data={data}>
                        <CartesianGrid strokeDasharray="3 3" />
                        <XAxis 
                          dataKey="date" 
                          tick={{ fontSize: 12 }}
                        />
                        <YAxis tick={{ fontSize: 12 }} />
                        <Tooltip 
                          contentStyle={{ backgroundColor: 'rgba(255, 255, 255, 0.95)', borderRadius: '8px' }}
                        />
                        <Legend wrapperStyle={{ fontSize: '12px' }} />
                        {REGIONS.map((region, index) => (
                          <Line
                            key={region}
                            type="monotone"
                            dataKey={region}
                            stroke={COLORS[index]}
                            strokeWidth={2}
                            dot={{ r: 4 }}
                            activeDot={{ r: 6 }}
                          />
                        ))}
                      </LineChart>
                    </ResponsiveContainer>
                  </div>

                  {/* Add New Entry Form */}
                  <div className="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 mb-8">
                    <h2 className="text-2xl font-semibold text-gray-700 mb-4 flex items-center gap-2">
                      <PlusIcon />
                      P≈ôidat nov√Ω z√°znam
                    </h2>
                    
                    <div className="mb-4">
                      <label className="block text-sm font-medium text-gray-700 mb-2">
                        Datum
                      </label>
                      <input
                        type="date"
                        value={newEntry.date}
                        onChange={(e) => handleInputChange('date', e.target.value)}
                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                      />
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
                      {REGIONS.map((region, index) => (
                        <div key={region}>
                          <label className="block text-sm font-medium text-gray-700 mb-2">
                            <span className="inline-block w-3 h-3 rounded-full mr-2" style={{ backgroundColor: COLORS[index] }}></span>
                            {region}
                          </label>
                          <input
                            type="number"
                            value={newEntry[region]}
                            onChange={(e) => handleInputChange(region, e.target.value)}
                            placeholder="Poƒçet sleduj√≠c√≠ch"
                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                          />
                        </div>
                      ))}
                    </div>

                    <button
                      onClick={handleAddEntry}
                      className="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 flex items-center justify-center gap-2"
                    >
                      <PlusIcon />
                      P≈ôidat z√°znam
                    </button>
                  </div>

                  {/* Data Table */}
                  <div className="bg-gray-50 rounded-xl p-6">
                    <h2 className="text-2xl font-semibold text-gray-700 mb-4">P≈ôehled dat</h2>
                    <div className="overflow-x-auto">
                      <table className="w-full text-sm">
                        <thead>
                          <tr className="border-b-2 border-gray-300">
                            <th className="text-left py-3 px-4 font-semibold text-gray-700">Datum</th>
                            {REGIONS.map((region, index) => (
                              <th key={region} className="text-right py-3 px-4 font-semibold text-gray-700">
                                <span className="inline-block w-3 h-3 rounded-full mr-1" style={{ backgroundColor: COLORS[index] }}></span>
                                {region.split(' ').pop()}
                              </th>
                            ))}
                            <th className="text-center py-3 px-4 font-semibold text-gray-700">Akce</th>
                          </tr>
                        </thead>
                        <tbody>
                          {data.map((entry, index) => (
                            <tr key={index} className="border-b border-gray-200 hover:bg-gray-100">
                              <td className="py-3 px-4 font-medium">{entry.date}</td>
                              {REGIONS.map(region => (
                                <td key={region} className="text-right py-3 px-4">
                                  {entry[region]?.toLocaleString('cs-CZ')}
                                </td>
                              ))}
                              <td className="text-center py-3 px-4">
                                <button
                                  onClick={() => handleDeleteEntry(index)}
                                  className="text-red-600 hover:text-red-800 transition-colors"
                                  title="Smazat z√°znam"
                                >
                                  <TrashIcon />
                                </button>
                              </td>
                            </tr>
                          ))}
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>

                <div className="text-center text-gray-600 text-sm">
                  <p>Vytvo≈ôeno pomoc√≠ React a Recharts ‚Ä¢ Data jsou ulo≈æena lok√°lnƒõ v pamƒõti prohl√≠≈æeƒçe bƒõhem relace</p>
                </div>
              </div>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<FacebookFollowersTracker />);
    </script>
</body>
</html>
